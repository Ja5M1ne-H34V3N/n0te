如图，是一个加权有向图
我们用D（v）表示从s点到其他任意一点的最小路径

## 最优子路径
指的是最短路径的任意子路径就是也是这个子路径连接的两点之间的最短路径
举个例子：假设从节点 A 到节点 C 的最短路径是 A→B→C，那么其中的子路径 A→B，一定是 A 到 B 的最短路径；子路径 B→C，也一定是 B 到 C 的最短路径。如果 A→B 存在更短的路径，那原路径 A→B→C 就不可能是 A 到 C 的最短路径


## 贝尔曼原理：无负环（negative circuit NC）
如果一个图没有负环，那么最优子路径的性质就成立

## 提取和松弛操作
提取：一个任意从s到t的路径，都包含一个长度不高于他的简单路径（简单路径指没有经过重复节点），我们可以根据这个操作找到简单路径

松弛：从S-到T的最短路径长度就是最短简单路径长度


# 贝尔曼方程：无负环
对所有非源点节点v$（(v≠s)）$，有$$(d(v)=\min _{(u, v) \in A}\{d(u)+\ell(u, v)\})
$$
这个公式的含义是，对于从原点到目标节点v的最短路径，肯定是原点到另一节点u的最小路径，加上u到v的路径的最小值

## 无负环的最短生成树（shortest-path tree）
所谓最短生成树，就是一种生成树，其根节点是图的原点，而根节点到任意子节点的路径就是图上原点到这个点的最小路径
想要根据一个图来构造出最短路径树，我们要引入紧边集的概念
### 紧边集：
$A_{0} = \{(u, v) \in A : d(v) = d(u) + \ell(u, v)\}$
也就是前面提到的，一种u到v的边，实现原点到v的最短路径为这个边的长度加上原点到u的最短路径

根据这个定义，我们可以得到两个结论：
所有最短路径的组成部分都在紧边集之中
一个生成树T是最短生成树，当且仅当其是紧边集的子集

# 三种场景下的最短路径树的算法
无环：拓扑排序
无负边：迪杰斯特拉
无负环：贝尔曼福特（同时这个算法也可以进行负环检测）


利用动态规划的思想解决有向无环图的最短路径树问题
- $d(s) = 0$
- $d(v) = \min_{(u,v) \in A} \{ d(u) + \ell(u,v) \}$，适用于所有节点 $v \neq s$。
**含义**：起点 $s$ 的距离为 0；对于其他任何节点 $v$，其最短距离等于所有能直接到达 $v$ 的前驱节点 $u$ 的最短距离 $d(u)$ 加上边 $(u,v)$ 的长度 $\ell(u,v)$ 的最小值。